import{j as e,k as x,m as N,e as g}from"./index-6b6c45bf.js";import{r as a,u as j,g as v,C as L,l as p,A as y,F as t,B as D,v as E}from"./vendor-core-4a64a0df.js";function C(){const[o,d]=a.useState(""),[n,h]=a.useState(""),[i,l]=a.useState(""),[m,c]=a.useState(!1),u=j(),b=v(),f=async r=>{r.preventDefault(),c(!0),l("");try{const s=await x.login({username:o,password:n});localStorage.setItem("access_token",s.access),localStorage.setItem("refresh_token",s.refresh),u(N({user:{username:s.username,membership:s.membership},access:s.access,refresh:s.refresh})),await u(g()),b("/list")}catch(s){l("로그인에 실패했습니다."),console.error("Login failed:",s)}finally{c(!1)}};return e.jsxDEV(L,{fluid:!0,className:"vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(135deg,rgb(255, 255, 255) 0%,rgb(255, 255, 255) 100%)",backdropFilter:"blur(10px)"},children:e.jsxDEV(p,{className:"shadow-lg border-0",style:{maxWidth:"380px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"16px"},children:e.jsxDEV(p.Body,{className:"px-4 py-5",children:[e.jsxDEV("div",{className:"text-center mb-4",children:[e.jsxDEV("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#2c3e50",letterSpacing:"-0.5px",marginBottom:"8px"},children:"StockList"},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:78,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted",style:{fontSize:"0.95rem"},children:"주식 정보를 한 눈에! 📈 ver0.7"},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:77,columnNumber:11},this),i&&e.jsxDEV(y,{variant:"danger",className:"py-2 mb-4 text-center",style:{borderRadius:"8px",fontSize:"0.9rem"},children:i},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:95,columnNumber:13},this),e.jsxDEV(t,{onSubmit:f,className:"d-flex flex-column gap-3",children:[e.jsxDEV(t.Group,{children:e.jsxDEV(t.Control,{type:"text",placeholder:"아이디",value:o,onChange:r=>d(r.target.value),style:{padding:"0.8rem 1rem",fontSize:"0.95rem",border:"1.5px solid #e1e1e1",borderRadius:"10px",backgroundColor:"#f8f9fa",transition:"all 0.2s ease"},required:!0},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(t.Group,{children:e.jsxDEV(t.Control,{type:"password",placeholder:"비밀번호",value:n,onChange:r=>h(r.target.value),style:{padding:"0.8rem 1rem",fontSize:"0.95rem",border:"1.5px solid #e1e1e1",borderRadius:"10px",backgroundColor:"#f8f9fa",transition:"all 0.2s ease"},required:!0},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:123,columnNumber:13},this),e.jsxDEV(D,{type:"submit",className:"w-100 mt-2",disabled:m,style:{padding:"0.8rem",fontSize:"1rem",fontWeight:"600",borderRadius:"10px",backgroundColor:"#4B6BFB",border:"none",transition:"all 0.2s ease",boxShadow:"0 2px 6px rgba(64, 98, 249, 0.2)"},children:m?"로그인 중...":"로그인"},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:141,columnNumber:13},this),e.jsxDEV("div",{className:"text-center mt-4",children:e.jsxDEV("span",{style:{color:"rgb(20, 21, 25)",fontSize:"0.95rem"},children:["계정이 없으신가요?"," ",e.jsxDEV(E,{to:"/register",style:{color:"rgba(64,98,249,1)",textDecoration:"none",fontWeight:"600"},children:"회원가입"},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:160,columnNumber:15},this)},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:76,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:67,columnNumber:7},this)},void 0,!1,{fileName:"/app/src/components/auth/Login.jsx",lineNumber:58,columnNumber:5},this)}export{C as default};
