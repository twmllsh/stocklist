import{j as e,k as N}from"./index-6b6c45bf.js";import{r as m,u as f,g as x,C as l,A as b,F as u,B as g,v as j}from"./vendor-core-4a64a0df.js";function D(){const[a,c]=m.useState({username:"",email:"",password:"",password2:""}),[o,r]=m.useState("");f();const p=x(),d=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),h=async s=>{var i;if(s.preventDefault(),a.password!==a.password2){r("비밀번호가 일치하지 않습니다.");return}if(!d(a.email)){r("이메일을 정확하게 입력해주세요.");return}try{const n=await N.register({username:a.username,email:a.email,password:a.password});alert("회원가입이 완료되었습니다. 로그인해주세요."),p("/login")}catch(n){if((i=n.response)!=null&&i.data){const t=n.response.data;t.username?r("이미 사용 중인 아이디입니다."):t.email?t.email.includes("valid")?r("이메일을 정확하게 입력해주세요."):r("이미 등록된 이메일입니다."):t.password?r("비밀번호가 유효하지 않습니다. 8자 이상의 영문/숫자 조합을 사용해주세요."):t.message?r(t.message):r("회원가입에 실패했습니다. 입력 정보를 확인해주세요.")}else r("서버 연결에 실패했습니다. 잠시 후 다시 시도해주세요.");console.error("Registration error:",n)}};return e.jsxDEV(l,{fluid:!0,className:"vh-100 d-flex align-items-center",style:{background:"#f8f9fa"},children:e.jsxDEV(l,{style:{maxWidth:"460px",minWidth:"320px",width:"100%"},children:[e.jsxDEV("div",{className:"text-center mb-5",children:[e.jsxDEV("h1",{className:"fw-bold",style:{color:"#2c3e50",fontSize:"2.5rem"},children:"회원가입"},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted",children:"......"},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:94,columnNumber:9},this),o&&e.jsxDEV(b,{variant:"danger",className:"py-2 mb-4 text-center rounded-3",children:o},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:104,columnNumber:11},this),e.jsxDEV(u,{onSubmit:h,className:"d-flex flex-column gap-3",children:[["username","email","password","password2"].map(s=>e.jsxDEV(u.Control,{type:s.includes("password")?"password":"text",placeholder:s==="username"?"아이디":s==="email"?"이메일":s==="password"?"비밀번호":"비밀번호 확인",value:a[s],onChange:i=>c({...a,[s]:i.target.value}),required:!0,className:"form-control-lg border-0 shadow-sm py-3",style:{background:"#fff",fontSize:"1rem",minHeight:"3.2rem"}},s,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:110,columnNumber:13},this)),e.jsxDEV(g,{variant:"primary",type:"submit",className:"py-3 mt-3 rounded-3 shadow-sm",style:{background:"#3498db",border:"none",fontSize:"1.1rem",minHeight:"3.5rem"},children:"회원가입"},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:135,columnNumber:11},this),e.jsxDEV("div",{className:"text-center mt-4",children:[e.jsxDEV("span",{className:"text-muted",children:"이미 계정이 있으신가요?"},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:149,columnNumber:13},this)," ",e.jsxDEV(j,{to:"/login",className:"text-decoration-none fw-bold",style:{color:"#3498db"},children:"로그인"},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:91,columnNumber:7},this)},void 0,!1,{fileName:"/app/src/components/auth/Register.jsx",lineNumber:86,columnNumber:5},this)}export{D as default};
